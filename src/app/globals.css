@import "tailwindcss";

@plugin "tailwindcss-animate";
@plugin "@tailwindcss/typography";

@theme {
  --font-mono: var(--font-jetbrains-mono), monospace;
  --font-regular: var(--open-sans), sans-serif;
  --color-background: hsl(var(--background));
  --color-primary: hsl(var(--primary));
  --color-secondary: hsl(var(--secondary));
  --color-accent: hsl(var(--accent));
  --color-toggle: hsl(var(--bg-toggle));
  --color-highlight: hsl(var(--highlight));

  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
}

@layer base {
  .light {
    --background: 48 100% 97%;
    --primary: 0, 0%, 6%;
    --secondary: 50 3% 42%;
    --bg-toggle: 48 100% 97%;
    --accent: 51, 33%, 93%;
    --highlight: 32, 88%, 44%;
    --border: 51, 21%, 88%;
    --destructive: 4 59% 50%;
    --destructive-foreground: 27 73% 93%;
  }

  .dark {
    --background: 0, 6%, 6%;
    --bg-toggle: 0 0% 25%;
    --primary: 55 10% 79%;
    --secondary: 43 3% 51%;
    --accent: 30 4% 11%;
    --highlight: 201, 65%, 53%;
    --border: 0, 0%, 25%;
    --destructive: 4 59% 50%;
    --destructive-foreground: 6 35% 11%;

    --foreground: 0 0% 98%;

    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;

    --primary-foreground: 0 0% 9%;

    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;

    --accent-foreground: 0 0% 98%;

    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
  }
}

@layer base {
  body {
    @apply bg-background text-foreground font-regular;
  }
  strong,
  .dark strong,
  .prose strong,
  .prose p > strong,
  .dark .prose strong,
  .dark .prose p > strong {
    color: hsl(var(--primary)) !important;
    font-weight: 500;
  }
}

/* Animation? */
@keyframes accordion-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Responsive utility classes */
@layer utilities {
  .responsive-container {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8;
  }

  .text-responsive-sm {
    @apply text-sm md:text-base;
  }

  .text-responsive-md {
    @apply text-base md:text-lg;
  }

  .text-responsive-lg {
    @apply text-lg md:text-xl lg:text-2xl;
  }

  .text-responsive-xl {
    @apply text-xl md:text-2xl lg:text-3xl xl:text-4xl;
  }

  .spacing-responsive-lg {
    @apply py-16 md:py-20;
  }
}

/* Improved focus styles for accessibility */
@layer base {
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
  }

  /* Better button focus states */
  button:focus-visible,
  [role="button"]:focus-visible {
    @apply ring-2 ring-primary ring-offset-2 ring-offset-background;
  }

  /* Smooth transitions for reduced motion users - DISABLED FOR PERFORMANCE */
  /* @media (prefers-reduced-motion: no-preference) {
    * {
      transition-duration: 150ms;
      transition-timing-function: ease-out;
    }
  } */

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* Enhanced mobile touch targets */
@layer utilities {
  .touch-target {
    @apply min-h-11 min-w-11 flex items-center justify-center;
  }

  .mobile-text {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
}

/* Grid system improvements */
@layer utilities {
  .grid-responsive-projects {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3;
  }

  /* Touch target improvements */
  .touch-target-small {
    @apply min-h-10 min-w-10 flex items-center justify-center;
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Line clamping utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
